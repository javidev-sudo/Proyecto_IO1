var N=Object.defineProperty;var R=(j,e,t)=>e in j?N(j,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):j[e]=t;var F=(j,e,t)=>R(j,typeof e!="symbol"?e+"":e,t);import{d as U,u as L,r as Z,a as A,c as J,b as u,e as l,w as I,f as y,F as M,g as V,h as D,v as k,i as O,t as x,o as f,j as $,n as T}from"./index-DV_CNyNK.js";class b{constructor(e,t=void 0,o=!1){this.coeficiente=e,this.variable=t,this.isM=o}getCoeficiente(){return this.coeficiente}getVariable(){return this.variable}getIsM(){return this.isM}evaluar(e){return this.variable!=null?this.coeficiente*e:this.coeficiente}clonar(){return new b(this.coeficiente,this.variable,this.isM)}existeVariable(e){const t=new RegExp(`^${e}\\d+$`);return this.getVariable===void 0?!1:!!(this.getVariable()==e||t.test(this.getVariable()))}toString(){const e=parseFloat(this.coeficiente.toFixed(2));return this.variable===void 0?e.toString():this.isM?e===1?`M${this.variable}`:`${e}M${this.variable}`:e===1?`${this.variable}`:e===0?"":`${e}${this.variable}`}}class _{constructor(e=void 0,t=0){F(this,"monomios");F(this,"principalMonomios",[]);this.principalMonomios=[new b(t,e)],this.monomios=[]}agregarMonomio(e){let t=!1;this.monomios.map(o=>{if(o.getVariable()===e.getVariable()){o.coeficiente+=e.coeficiente,t=!0;return}}),t||this.monomios.push(e)}agregarMonomioAPrincipal(e){let t=!1;this.principalMonomios.map(o=>{if(o.getVariable()===e.getVariable()){o.coeficiente+=e.coeficiente,t=!0;return}}),t||this.monomios.push(e)}multiplicarPorNegativo(){this.monomios.map(e=>{e.coeficiente*=-1}),this.principalMonomios.map(e=>{e.coeficiente*=-1})}moverMonomioAPrincipal(){this.monomios.map(e=>{e.coeficiente*=-1,this.principalMonomios.push(e)}),this.monomios=[new b(0)]}sumarPolinomio(e){e.monomios.forEach(t=>{this.agregarMonomio(t)})}multiplicar(e){this.principalMonomios.map(t=>{t.coeficiente*=e}),this.monomios.map(t=>{t.coeficiente*=e})}existeVariable(e="a"){const t=new RegExp(`^${e}\\d+$`);for(const o of this.monomios)if(o.getVariable()!=null&&(o.getVariable()==e||t.test(o.getVariable())))return!0;return!1}obtenerVariablesDisponibles(){const e=[];for(const t of this.principalMonomios)e.push(t.getVariable()??"");for(const t of this.monomios)e.push(t.getVariable()??"");return e}evaluar(e){let t=0;for(const o of this.monomios)t+=o.evaluar(e);return t}clonar(){const e=new _;return e.principalMonomios=this.principalMonomios.map(t=>t.clonar()),e.monomios=this.monomios.map(t=>t.clonar()),e}obtenerUltimoMonomio(){return this.monomios[this.monomios.length-1]}toStringPrincipal(e=!1){let t="";this.principalMonomios.forEach((i,a)=>{a>0&&i.coeficiente>0&&(t+="+"),t+=i.toString()}),t==""&&(t="0");let o="";return this.monomios.forEach((i,a)=>{i.coeficiente==0&&i.getVariable()||(a>0&&i.coeficiente>0&&(o+="+"),o+=i.toString())}),o==""&&(o="0"),e?o+" = "+t:t+" = "+o}toString(){let e="",t=!1;return this.monomios.forEach((o,i)=>{if(o.coeficiente==0&&o.getVariable()){t=!0;return}i>0&&o.coeficiente>0&&!t&&(e+="+"),!(!t&&o.coeficiente==0)&&(e+=o.toString())}),e==""&&(e="0"),e}}class X{constructor(e,t="max"){F(this,"funcionPenalizada",new _("W",1));F(this,"funcionesObjetivos",new Map);F(this,"tablasIteracion");this.operacion=e,this.objetivo=t,this.tablasIteracion={iteraciones:[],variablesColumna:[],variablesFila:[]},this.procesarDatosIniciales()}getFunctionPenalizada(){return this.funcionPenalizada}getFuncionesObjetivos(){return Array.from(this.funcionesObjetivos.values())}procesarDatosIniciales(){this.operacion.variables.forEach((e,t)=>{this.funcionPenalizada.agregarMonomio(new b(e,`x${t+1}`))}),this.operacion.restricciones.forEach((e,t)=>{var o,i,a,s;this.funcionesObjetivos.set(`f${t}`,new _(void 0,e.resultado)),e.variables.forEach((r,n)=>{var c;(c=this.funcionesObjetivos.get(`f${t}`))==null||c.agregarMonomio(new b(r,`x${n+1}`))}),e.operador=="mni"&&((o=this.funcionesObjetivos.get(`f${t}`))==null||o.agregarMonomio(new b(1,"S"+(t+1))),this.funcionPenalizada.agregarMonomio(new b(0,"S"+(t+1)))),e.operador=="myi"&&((i=this.funcionesObjetivos.get(`f${t}`))==null||i.agregarMonomio(new b(-1,"e"+(t+1))),(a=this.funcionesObjetivos.get(`f${t}`))==null||a.agregarMonomio(new b(1,"a"+(t+1))),this.funcionPenalizada.agregarMonomio(new b(0,"e"+(t+1))),this.funcionPenalizada.agregarMonomio(new b(this.objetivo=="max"?-1:1,"a"+(t+1),!0))),e.operador=="i"&&((s=this.funcionesObjetivos.get(`f${t}`))==null||s.agregarMonomio(new b(1,"a"+(t+1))),this.funcionPenalizada.agregarMonomio(new b(this.objetivo=="max"?-1:1,"a"+(t+1),!0)))}),this.objetivo!="max"&&this.funcionPenalizada.multiplicarPorNegativo(),this.funcionPenalizada.moverMonomioAPrincipal()}generarResultadoDeMatrizRegionZ(){const e=[],t=[],o=this.funcionPenalizada.obtenerVariablesDisponibles();for(const s of this.funcionPenalizada.principalMonomios){const r=new _;r.agregarMonomio(new b(s.getCoeficiente(),s.getIsM()?"M":void 0)),t.push(r)}const i=new _;i.agregarMonomio(new b(0)),t.push(i),e.push(t),this.funcionesObjetivos.forEach(function(s){const r=new Map,n=s.existeVariable("a")?-1:1;o.forEach(h=>{const m=new _;m.agregarMonomio(new b(0,n==-1?"M":void 0)),r.set(h,m)});for(const h of s.monomios){const m=new _;m.agregarMonomio(new b(h.getCoeficiente()*n,n==-1?"M":void 0)),r.set(h.getVariable(),m)}const c=new _;c.agregarMonomio(new b(s.principalMonomios[0].getCoeficiente()*n,n==-1?"M":void 0)),r.set("",c),e.push(Array.from(r.values()))});const a=new Map;for(let s=1;s<e.length;s++){const r=e[s][0]??void 0;if(!(r&&!r.existeVariable("M")))for(let n=0;n<e[s].length;n++)if(!a.has(`id-${n}`))a.set(`id-${n}`,e[s][n]);else{const c=a.get(`id-${n}`);c&&(c.sumarPolinomio(e[s][n]),a.set(`id-${n}`,c))}}if(e.length>0){const s=e[0];for(let r=0;r<s.length-1;r++){const n=a.get(`id-${r}`);n&&(n.sumarPolinomio(s[r]),a.set(`id-${r}`,n))}}return Array.from(a.values())}masNegativo(e){let t=e[1].evaluar(1e3),o=1;for(let i=2;i<e.length-1;i++){const a=e[i].evaluar(1e3);t>a&&(o=i,t=a)}return t<0?o:void 0}encuentraPivote(e,t){const o=new Map;for(let n=0;n<e.length;n++){const c=e[n][e[n].length-1],h=e[n][t];h!==0&&o.set(n,c/h)}const i=new Map(Array.from(o).filter(n=>n[1]>0)),a=i.keys().next().value;let s=i.get(a),r=a;for(const[n,c]of i){const h=c;s>h&&(s=h,r=n)}return r}existeNegativo(e){return this.masNegativo(e)!==void 0}dividirConElementoPivote(e,t,o){const i=e[t][o];for(let a=0;a<e[t].length;a++){const s=e[t][a];e[t][a]=s/i}}filasAOperar(e,t){const o=[],i=this.encuentraPivote(e,t);for(let a=0;a<e.length;a++)e[a][t]!==0&&o.push(a);return o.filter(a=>a!==i)}operacionesfilasConPivote(e,t,o,i){const a=e[i][o]*-1;for(let s=0;s<e[i].length;s++){const r=e[i][s],n=e[t][s];e[i][s]=a*n+r}}operacionFilaPolinomios(e,t,o,i){const a=e[i].clonar();a.multiplicar(-1);for(let s=0;s<e.length;s++){let r=a.clonar();r.multiplicar(t[o][s]),r.sumarPolinomio(e[s]),e[s]=r}}obtenerVariablesDeEntrada(){const e=[];for(const[t,o]of this.funcionesObjetivos)e.push(o.obtenerUltimoMonomio().getVariable()||"");return e}resolver(){const e=this.generarResultadoDeMatrizRegionZ(),t=this.funcionPenalizada.obtenerVariablesDisponibles();t.pop();let o=this.obtenerVariablesDeEntrada();const i=this.obtenerMatrizInicial(t);this.tablasIteracion.variablesColumna=t,this.tablasIteracion.variablesColumna.push("RHS"),this.tablasIteracion.variablesFila=this.obtenerVariablesFila(i.length+1);let a=0;for(;this.existeNegativo(e);){const n=this.masNegativo(e),c=this.encuentraPivote(i,n);if(c===void 0)break;const h={numeroIteracion:a,columnaPivote:n,filaPivote:c+1,matriz:[this.clonarPolinomios(e),...JSON.parse(JSON.stringify(i))],variablesEntrada:[...o]};this.tablasIteracion.iteraciones.push(h),this.dividirConElementoPivote(i,c,n);const m=t[n];o[c]=m;const p=this.filasAOperar(i,n);for(const P of p)this.operacionesfilasConPivote(i,c,n,P);this.operacionFilaPolinomios(e,i,c,n),a++}const s=this.obtenerValoresDeLasVariablesSalida(i,o);console.log(this.operacion.variables);const r={numeroIteracion:a,columnaPivote:0,filaPivote:0,matriz:[this.clonarPolinomios(e),...JSON.parse(JSON.stringify(i))],variablesEntrada:[...o]};this.tablasIteracion.iteraciones.push(r),this.tablasIteracion.variableSalida=s,this.tablasIteracion.resultado=this.valorDeZ(this.funcionPenalizada,s),console.log(this.tablasIteracion.resultado)}obtenerValoresDeLasVariablesSalida(e,t){const o=new Map;for(let i=0;i<t.length;i++){const a=parseFloat(e[i][e[i].length-1].toFixed(3));o.set(t[i],a)}return o}valorDeZ(e,t){let o=0;return e.principalMonomios.forEach(i=>{i.getVariable()&&this.esVariableX(i.getVariable())&&(o+=i.getCoeficiente()*(t.get(i.getVariable())??0))}),this.objetivo=="max"?o*-1:o}esVariableX(e){let t=!1;return new RegExp("^x\\d+$").test(e)&&(t=!0),t}obtenerMatrizInicial(e){const t=[];return this.funcionesObjetivos.forEach(function(o){const i=new Map;e.forEach(a=>{i.set(a,0)});for(const a of o.monomios)i.set(a.getVariable(),a.getCoeficiente());i.set(o.principalMonomios[0].getVariable(),o.principalMonomios[0].getCoeficiente()),t.push(Array.from(i.values()))}),t}obtenerVariablesFila(e){const t=[];for(let o=0;o<e;o++)t.push("R"+o);return t}clonarPolinomios(e){const t=[];for(const o of e)t.push(o.clonar());return t}obtenerTabladeIteraciones(){return this.tablasIteracion}}class B{constructor(e,t="max"){F(this,"tablasIteracion");F(this,"funcionPenalizada",new _("z",1));F(this,"funcionesObjetivos",new Map);F(this,"variablesdeEntrada",[]);F(this,"funcionPenalizadaAux",new _("r",1));this.operacion=e,this.objetivo=t,this.tablasIteracion={iteraciones:[],variablesFila:[]},this.procesarDatosIniciales()}procesarDatosIniciales(){this.operacion.variables.forEach((e,t)=>{this.funcionPenalizada.agregarMonomio(new b(e,`x${t+1}`))}),this.operacion.variables.forEach((e,t)=>{this.funcionPenalizadaAux.agregarMonomio(new b(e,`x${t+1}`))}),this.operacion.restricciones.forEach((e,t)=>{var o,i,a,s;this.funcionesObjetivos.set(`f${t}`,new _(void 0,e.resultado)),e.variables.forEach((r,n)=>{var c;(c=this.funcionesObjetivos.get(`f${t}`))==null||c.agregarMonomio(new b(r,`x${n+1}`))}),e.operador=="mni"&&((o=this.funcionesObjetivos.get(`f${t}`))==null||o.agregarMonomio(new b(1,"S"+(t+1))),this.funcionPenalizadaAux.agregarMonomio(new b(0,"S"+(t+1)))),e.operador=="myi"&&((i=this.funcionesObjetivos.get(`f${t}`))==null||i.agregarMonomio(new b(-1,"S"+(t+1))),(a=this.funcionesObjetivos.get(`f${t}`))==null||a.agregarMonomio(new b(1,"a"+(t+1))),this.funcionPenalizadaAux.agregarMonomio(new b(0,"S"+(t+1))),this.funcionPenalizadaAux.agregarMonomio(new b(1,"a"+(t+1),!0))),e.operador=="i"&&((s=this.funcionesObjetivos.get(`f${t}`))==null||s.agregarMonomio(new b(1,"a"+(t+1))),this.funcionPenalizadaAux.agregarMonomio(new b(1,"a"+(t+1),!0)))}),this.funcionPenalizada.moverMonomioAPrincipal()}generarMatrizInicialFase1(e,t){t.push("");const o=[],i=new Map;return t.forEach(a=>{i.set(a,0)}),e.principalMonomios.forEach(a=>{i.set(a.getVariable(),a.getCoeficiente())}),o.push(Array.from(i.values())),t.pop(),this.funcionesObjetivos.forEach(function(a){const s=new Map;t.forEach(r=>{s.set(r,0)});for(const r of a.monomios)s.set(r.getVariable(),r.getCoeficiente());s.set(a.principalMonomios[0].getVariable(),a.principalMonomios[0].getCoeficiente()),o.push(Array.from(s.values()))}),o}encontrarColumnaPivoteFase1(e){let t=1,o=e[0][1];for(let i=1;i<e[0].length-1;i++){const a=e[0][i];o<a&&(o=a,t=i)}return o>0?t:void 0}encuentraPivote(e,t){const o=new Map;for(let n=1;n<e.length;n++){const c=e[n][e[n].length-1],h=e[n][t];h!==0&&o.set(n,parseFloat((c/h).toFixed(2)))}const i=new Map(Array.from(o).filter(n=>n[1]>0)),a=i.keys().next().value;let s=i.get(a),r=a;for(const[n,c]of i){const h=c;s>h&&(s=h,r=n)}return r}dividirConElementoPivote(e,t,o){const i=e[t][o];for(let a=0;a<e[t].length;a++){const s=e[t][a];e[t][a]=parseFloat((s/i).toFixed(2))}}operacionesfilasConPivote(e,t,o,i){const a=e[i][o]*-1;for(let s=0;s<e[i].length;s++){const r=e[i][s],n=e[t][s];e[i][s]=parseFloat((a*n+r).toFixed(2))}}filasAOperar(e,t,o){const i=[];for(let a=0;a<e.length;a++)e[a][t]!==0&&i.push(a);return i.filter(a=>a!==o)}existePositivo(e){return this.encontrarColumnaPivoteFase1(e)!==void 0}obtenerVariablesDeEntrada(){const e=[];for(const[t,o]of this.funcionesObjetivos)e.push(o.obtenerUltimoMonomio().getVariable()||"");return e}primeraFase(){const e=new _("r",1),t=this.funcionPenalizadaAux.obtenerVariablesDisponibles(),o=[];let i=this.obtenerVariablesDeEntrada(),a=0;this.funcionesObjetivos.forEach(h=>{h.monomios.forEach(m=>{m.existeVariable("a")&&(a++,o.push(a),e.agregarMonomio(m.clonar()))})}),e.moverMonomioAPrincipal();const s=this.generarMatrizInicialFase1(e,t);for(let h=0;h<o.length;h++)for(let m=0;m<s[0].length;m++)s[0][m]=s[0][m]+s[o[h]][m];let r,n;for(;Math.trunc(s[0][s[0].length-1])!==0&&this.existePositivo(s);){const h=this.encontrarColumnaPivoteFase1(s),m=this.encuentraPivote(s,h);if(m===void 0)break;const p=t[h];i[m-1]=p,this.dividirConElementoPivote(s,m,h);const P=this.filasAOperar(s,h,m);for(const S of P)this.operacionesfilasConPivote(s,m,h,S);r=m,n=h}this.variablesdeEntrada=i;const c={matriz:[...JSON.parse(JSON.stringify(s))],filaPivote:r??0,columnaPivote:n??0,numeroIteracion:1,variablesEntrada:["r",...this.variablesdeEntrada],variablesColumna:[...t,"RHS"],funcionPenalizada:e.clonar(),functionObjetivos:[...this.funcionesObjetivos.values()].map(h=>h.clonar())};return this.tablasIteracion.iteraciones.push(c),s}esVariableArtificial(e){let t=!1;return new RegExp("^a\\d+$").test(e)&&(t=!0),t}limpiarLaColumnaVariablesEntrada(e,t,o){const i=[],a=[];for(let r=0;r<t.length;r++){const n=o.indexOf(t[r]);for(let c=0;c<e.length;c++)e[c][n]!==0&&e[c][n]!==1&&(i.push(n),a.push(c))}const s=Array.from(new Set(i));for(let r=0;r<s.length;r++){const n=this.buscar1(e,s[r]);this.operacionesfilasConPivote(e,n,s[r],a[r])}}buscar1(e,t){for(let o=0;o<e.length;o++)if(e[o][t]===1)return o}encontrarPivoteColumnaMasNegativo(e){let t=1,o=e[0][1];for(let i=1;i<e[0].length-1;i++){const a=e[0][i];o>a&&(o=a,t=i)}return o<0?t:void 0}existeNegativo(e){return this.encontrarPivoteColumnaMasNegativo(e)!==void 0}existeArtificiales(e){for(let t=0;t<e.length;t++)if(this.esVariableArtificial(e[t]))return!0;return!1}segundaFase(){const e=this.primeraFase();let t=structuredClone(this.variablesdeEntrada);if(Math.trunc(e[0][e[0].length-1])==0&&!this.existeArtificiales(t)){const o=this.funcionPenalizadaAux.obtenerVariablesDisponibles();o[0]="z",o.push("RHS");const i=[],a=new Map;for(let p=0;p<o.length;p++)this.esVariableArtificial(o[p])&&i.push(p);i.sort((p,P)=>P-p);const s=o.filter(p=>!/^a\d+$/.test(p));for(let p=0;p<i.length;p++)for(const P of e)P.splice(i[p],1);s.forEach(p=>{a.set(p,0)}),this.funcionPenalizada.principalMonomios.forEach(p=>{a.set(p.getVariable(),p.getCoeficiente())});const r=Array.from(a.values());e[0]=r,this.limpiarLaColumnaVariablesEntrada(e,this.variablesdeEntrada,s);let n,c;for(;this.objetivo=="max"&&this.existeNegativo(e)||this.objetivo!="max"&&this.existePositivo(e);){const p=this.objetivo=="max"?this.encontrarPivoteColumnaMasNegativo(e):this.encontrarColumnaPivoteFase1(e),P=this.encuentraPivote(e,p);if(P===void 0)break;this.dividirConElementoPivote(e,P,p);let S=o[p];t[P-1]=S;const w=this.filasAOperar(e,p,P);for(const d of w)this.operacionesfilasConPivote(e,P,p,d);c=P,n=p}const h=this.obtenerValoresDeLasVariablesSalida(e,t),m={matriz:[...JSON.parse(JSON.stringify(e))],filaPivote:c??0,columnaPivote:n??0,numeroIteracion:2,variablesEntrada:["",...t],variablesColumna:[...s],funcionPenalizada:this.funcionPenalizada.clonar()};this.tablasIteracion.iteraciones.push(m),this.tablasIteracion.variableSalida=h,this.tablasIteracion.resultado=this.valorDeZ(this.funcionPenalizada,h)}else this.tablasIteracion.mensaje="No hay solucion optima"+(this.existeArtificiales(t)?" - Existe variables artificiales":"")}obtenerTabladeIteraciones(){return this.tablasIteracion}valorDeZ(e,t){let o=0;return e.principalMonomios.forEach(i=>{i.getVariable()&&this.esVariableX(i.getVariable())&&(o+=i.getCoeficiente()*(t.get(i.getVariable())??0))}),o*-1}esVariableX(e){let t=!1;return new RegExp("^x\\d+$").test(e)&&(t=!0),t}obtenerValoresDeLasVariablesSalida(e,t){const o=new Map;for(let i=0;i<t.length;i++){const a=parseFloat(e[i+1][e[i+1].length-1].toFixed(3));o.set(t[i],a)}return o}}const G={class:"overflow-y-scroll p-10 bg-gradient-to-tl from-gray-400 to-gray-200 flex flex-col items-start w-screen h-full rounded"},H={class:"flex flex-row"},q={class:"flex flex-row p-2"},W={key:0,class:"pr-1 text-xl"},K=["onUpdate:modelValue"],Q={class:"pl-1 text-xl"},Y={class:"flex flex-row p-2"},ee={key:0,class:"pr-1 text-xl"},te=["onUpdate:modelValue"],oe={class:"pl-1 text-xl"},ie=["onUpdate:modelValue"],ae=["onUpdate:modelValue"],se={class:"text-2xl"},ne={key:0,class:"text-red-500"},re={class:"flex flex-row items-center justify-center"},le=["disabled"],ce={class:"bg-white py-20 lg:py-[120px] dark:bg-dark"},ue={class:"container mx-auto"},fe={class:"-mx-4 flex flex-wrap"},he={class:"w-full px-4"},de={key:0,class:"flex flex-col max-w-full overflow-x-auto mb-10"},ve={class:"flex flex-col items-start justify-center"},pe={class:"text-2xl ml-4"},be={class:"flex flex-col items-start justify-center"},me={class:"text-2xl ml-4"},ge={class:"flex flex-col"},xe={key:0,class:"flex flex-col max-w-full overflow-x-auto mb-10"},we={class:"flex flex-col items-start justify-center"},Pe={class:"text-2xl ml-4"},Me={key:0,class:"flex flex-col items-start justify-center"},ye={class:"text-2xl ml-4"},Ve={class:"flex flex-row max-w-full overflow-x-auto mb-10"},_e={class:"w-1/12 flex flex-col items-center justify-center"},Fe={class:"p-7"},Ee={class:"w-1/12 table-auto"},je={class:"bg-primary text-center"},Oe={key:0,class:"w-1/6 min-w-[160px] border-l border-transparent px-3 py-4 text-lg font-medium lg:px-4 lg:py-7"},Se={key:1,class:"w-1/6 min-w-[160px] border-l border-transparent px-3 py-4 text-lg font-medium lg:px-4 lg:py-7"},Ce={key:0},Ie={class:"text-white bg-blue-400 px-2 py-5 text-center font-medium"},Ae={class:"w-3/4 table-fixed"},$e={class:"bg-primary text-center"},De={class:"w-1/6 min-w-[160px] border-l border-transparent px-3 py-4 text-lg font-medium text-white lg:px-4 lg:py-7 bg-blue-400"},ke={class:"w-1/6 min-w-[160px] border-l border-transparent px-3 py-4 text-lg font-medium text-white lg:px-4 lg:py-7 bg-blue-400"},ze={key:1,class:"flex flex-row max-w-full overflow-x-auto mb-10 text-center"},Ne={class:"text-2xl font-bold"},Re={key:2,class:"flex flex-col max-w-full overflow-x-auto mb-10"},Ue={class:"text-2xl"},Le={key:3,class:"flex flex-row max-w-full overflow-x-auto mb-10 text-center"},Ze={class:"text-2xl font-bold"},Xe=U({__name:"EvaluationPage",setup(j){const e=L().query,t=e.maxVariables,o=e.maxRestricciones,i=e.metodo,a=Z({variables:Array.from(Array(+t).keys()).map(w=>w*0),restricciones:h()}),s=A("max"),r=A({iteraciones:[],variablesColumna:[],variablesFila:[]}),n=A(void 0),c=A([]);function h(){const w=[];for(let d=0;d<+o;d++)w.push({variables:Array.from(Array(+t).keys()).map(v=>v*0),operador:"mni",resultado:0});return w}function m(){if(i=="df"){P();return}if(i=="gm"){S();return}}const p=J(()=>a.restricciones.every(w=>w.operador==="mni"));function P(){const w=new B(a,s.value);w.segundaFase(),r.value=w.obtenerTabladeIteraciones()}function S(){const w=new X(a,s.value);w.resolver(),n.value=w.getFunctionPenalizada(),c.value=w.getFuncionesObjetivos(),r.value=w.obtenerTabladeIteraciones(),console.log(r.value)}return(w,d)=>(f(),u(M,null,[l("div",G,[d[5]||(d[5]=l("h2",null,"Funcion Objetivo",-1)),l("div",H,[(f(!0),u(M,null,V(a.variables,(v,g)=>(f(),u("div",q,[g!=0?(f(),u("h2",W,"+")):y("",!0),I(l("input",{"onUpdate:modelValue":E=>a.variables[g]=E,type:"number",class:"text-center rounded w-10 h-8 border border-gray-500"},null,8,K),[[$,a.variables[g]]]),l("h2",Q,"x"+x(g+1),1)]))),256))]),d[6]||(d[6]=l("h2",null,"Restricciones",-1)),(f(!0),u(M,null,V(a.restricciones,v=>(f(),u("div",{class:"flex flex-col",key:v.operador},[l("div",Y,[(f(!0),u(M,null,V(v.variables,(g,E)=>(f(),u("div",{class:"flex flex-row",key:E},[E!=0?(f(),u("h2",ee,"+")):y("",!0),I(l("input",{"onUpdate:modelValue":C=>v.variables[E]=C,type:"number",class:"text-center rounded w-10 h-8 border border-gray-500"},null,8,te),[[$,v.variables[E]]]),l("h2",oe,"x"+x(E+1),1)]))),128)),I(l("select",{"onUpdate:modelValue":g=>v.operador=g,class:"mr-2 ml-2 h-8 w-full bg-transparent placeholder:text-slate-400 text-slate-700 border border-gray-500 rounded transition duration-300 ease cursor-pointer"},d[1]||(d[1]=[l("option",{value:"mni"},"<=",-1),l("option",{value:"myi"},">=",-1),l("option",{value:"i"},"=",-1)]),8,ie),[[k,v.operador]]),I(l("input",{class:"text-center rounded w-10 h-8 border border-gray-500","onUpdate:modelValue":g=>v.resultado=g,type:"number"},null,8,ae),[[$,v.resultado]])])]))),128)),l("p",se,[(f(!0),u(M,null,V(a.variables,(v,g)=>(f(),u("span",{key:v},"x"+x(g+1)+x(g!=a.variables.length-1?",":""),1))),128)),d[2]||(d[2]=D(" > 0"))]),d[7]||(d[7]=l("h2",null,"Objetivo",-1)),I(l("select",{"onUpdate:modelValue":d[0]||(d[0]=v=>s.value=v),class:"h-8 w-full bg-transparent placeholder:text-slate-400 text-slate-700 border border-gray-500 rounded transition duration-300 ease cursor-pointer"},d[3]||(d[3]=[l("option",{value:"max"},"Maximizar",-1),l("option",{value:"min"},"Minimizar",-1)]),512),[[k,s.value]]),p.value?(f(),u("div",ne," Son todos menores o iguales, no puede ser resuelto por granM o dos fases")):y("",!0),l("div",re,[l("button",{disabled:p.value,onClick:m,class:"cursor-pointer m-1 bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-4 rounded"}," Resolver ",8,le),d[4]||(d[4]=l("button",{class:"cursor-pointer m-1 bg-gray-600 hover:bg-gray-500 text-white font-bold py-2 px-4 rounded"}," Limpiar ",-1))])]),l("section",ce,[l("div",ue,[l("div",fe,[l("div",he,[O(i)=="gm"&&n.value?(f(),u("div",de,[l("div",ve,[d[8]||(d[8]=l("h2",{class:"text-2xl font-bold"},"Funcion Penalizada",-1)),l("p",pe,x(n.value.toStringPrincipal()),1)]),l("div",be,[d[9]||(d[9]=l("h2",{class:"text-2xl font-bold"},"Funcion Objetivo",-1)),(f(!0),u(M,null,V(c.value,v=>(f(),u("p",me,x(v.toStringPrincipal(!0)),1))),256))])])):y("",!0),(f(!0),u(M,null,V(r.value.iteraciones,v=>(f(),u("div",{class:"max-w-full overflow-x-auto mb-10",key:v.numeroIteracion},[l("div",ge,[O(i)=="df"&&v.funcionPenalizada?(f(),u("div",xe,[l("div",we,[d[10]||(d[10]=l("h2",{class:"text-2xl font-bold"},"Funcion Penalizada",-1)),l("p",Pe,x(v.funcionPenalizada.toStringPrincipal()),1)]),v.functionObjetivos&&v.functionObjetivos.length>0?(f(),u("div",Me,[d[11]||(d[11]=l("h2",{class:"text-2xl font-bold"},"Funcion Objetivo",-1)),(f(!0),u(M,null,V(v.functionObjetivos,g=>(f(),u("p",ye,x(g.toStringPrincipal(!0)),1))),256))])):y("",!0)])):y("",!0),l("div",Ve,[l("div",_e,[d[12]||(d[12]=l("div",{class:"p-7"},null,-1)),(f(!0),u(M,null,V(r.value.variablesFila,g=>(f(),u("div",Fe,x(g),1))),256))]),l("table",Ee,[l("thead",null,[l("tr",je,[O(i)=="gm"?(f(),u("th",Oe," Iteracion "+x(v.numeroIteracion),1)):y("",!0),O(i)=="df"?(f(),u("th",Se," Fase "+x(v.numeroIteracion),1)):y("",!0)])]),l("tbody",null,[d[14]||(d[14]=l("tr",null,null,-1)),O(i)=="gm"?(f(),u("tr",Ce,d[13]||(d[13]=[l("td",{class:"text-white bg-blue-400 px-2 py-5 text-center"},null,-1)]))):y("",!0),(f(!0),u(M,null,V(v.variablesEntrada,g=>(f(),u("tr",null,[l("td",Ie,x(g),1)]))),256))])]),l("table",Ae,[l("thead",null,[l("tr",$e,[O(i)=="gm"?(f(!0),u(M,{key:0},V(r.value.variablesColumna,g=>(f(),u("th",De,x(g),1))),256)):y("",!0),O(i)=="df"?(f(!0),u(M,{key:1},V(v.variablesColumna,g=>(f(),u("th",ke,x(g),1))),256)):y("",!0)])]),l("tbody",null,[(f(!0),u(M,null,V(v.matriz,(g,E)=>(f(),u("tr",null,[(f(!0),u(M,null,V(g,(C,z)=>(f(),u("td",{class:T(["border-b border-l border-[#E8E8E8] px-2 py-5 text-center text-base font-medium",{"bg-yellow-400":z==v.columnaPivote&&E==v.filaPivote&&v.filaPivote!=0}])},x(typeof C=="number"?parseFloat(C.toFixed(5)):C),3))),256))]))),256))])])])])]))),128)),r.value.mensaje?(f(),u("div",ze,[l("h2",Ne,x(r.value.mensaje),1)])):y("",!0),r.value.variableSalida?(f(),u("div",Re,[(f(!0),u(M,null,V(r.value.variableSalida,([v,g])=>(f(),u("h3",Ue,[l("b",null,x(v)+" = ",1),D(x(g),1)]))),256))])):y("",!0),r.value.resultado?(f(),u("div",Le,[l("h2",Ze,"Valor Z: "+x(r.value.resultado),1)])):y("",!0)])])])])],64))}});export{Xe as default};
